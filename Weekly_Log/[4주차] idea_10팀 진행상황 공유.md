## 팀 구성원, 개인 별 역할

---
+ 김우용 : 커뮤니티, 템플릿 적용해보기
+ 김치훈 : 로그인 오류 처리, 템플릿 적용해보기
+ 서창민 : 닥터 마이페이지, 템플릿 적용해보기
+ 신상원 : 닥터 Q&A, 템플릿 적용해보기, 예외 처리
+ 이주원3 : 고객 마이페이지, 템플릿 적용해보기


## 팀 내부 회의 진행 회차 및 일자

---
+ 8회차 소회의(2022.08.22) 디스코드 진행(김치훈, 이주원3, 서창민, 신상원)

+ 9회차 멘토링(2022.08.24) 디스코드 진행(모두 참여)

+ 10회차 소회의(2022.08.29) 디스코드 진행(김치훈, 이주원3, 서창민, 신상원)

  


## 현재까지 개발 과정 요약 (최소 500자 이상)

**구현 내용**

1. 로그인 및 회원가입 구현
   + 엔티티에 대한 수정 완료
   + 개발 환경임으로 null값 처리에 대한 부분의 기준을 넓게 잡음(TEST를 하기 쉽게)
2. 닥터마이페이지 구현 
   + 로그인 된 사용자가 의사 일 때만 페이지 접속 가능 하도록 연동 필요
   + 비밀 번호 수정 시 암호화를 하도록 해야함
3. 닥터 QnA구현
   + 로그인 된 사용자만 글을 쓸 수 있도록 구현
   + 답변은 의사만 가능 하도록 구현
   + 예외에 대한 처리를 함
4. 커뮤니티 페이지 구현
   + 로그인 된 사용자의 정보를 얻어오는 부분을 닥터마이페이지 코드를 참조하여 구현 하기로 함
5. 고객 마이페이지 구현
   + 예약 시 달력에 대한 구현
   + 로그인 후 마이페이지에 접속 함으로 url에 대한 변경



**문제점**

1. Outh2를 사용하여 로그인 시 DB저장 방법에 대한 고려
2. 싱글테이블로 바꼈을 때 문제점에 대한 고려
3. 다른 팀원과의 merge시 기능 테스트에 대한 문제
   + 테스트 코드를 필수적으로 짜야하지만, 일정이 많이 안 남은 관계로 처리를 못하는 중



**해야할 점**

템플릿 적용하기 : https://www.creative-tim.com/product/argon-dashboard




## 개발 과정에서 나왔던 질문 (최소 200자 이상)



#### 질문 사항 및 답변 내용

Q : 배포는 필수인가요 선택인가요?

​	A :  배포는 선택 사항이지만, 나중에 프로젝트 발표 할 때를 생각하면 멘토님은 필수라고 생각한다고 하심. 단, 		너무 깊게가 아니라 보여줄 수 있을 정도로만 진행하면 됨.



️Q : dto ↔️ entity를 어느 단에서 진행해야 하나요?(프로젝트 진행 중 OSIV라는 개념을 알게 되었고, 이 개념에 따르면 Service단에서 처리하는게 맞다고 생각하여 질문하였습니다.)

​	A : OSIV를 끈다고 가정하면, 무조건 Service단에서 dto를 처리해야함.

​	A : OSIV를 킨다면 어느 단에서 하던 큰 상관이 없지만, 멘토님은 보통 DTO를 하나만 크게 만들어서 VO로 뽑아		낼 값을 뽑아서 넘겨 Service에서 처리하신다고 하심.

​	q :  OSIV를 끄니 JOIN한 엔티티를 가져오지 못하는 현상이 있는데, 이를 Fetch Join = eager로 가져오는 방법으	로 해결하는건 어떤가요?

​		a : 나중에 문제가 많은 방법임. repository에서 @query로 fetch를 사용하는 방법으로 해결을 추천함

​	q :  OSIV를 껐는데, 왜 팀원의 게시물 저장 코드가 작동하나요?

​		a : Service의 @Transactional 안에서 작업을 수행 하므로

​		a : OSIV를 끈다는 것은 단순히 지연로딩을 트랜잭션 밖에서 못하게 하는 것

​	q : OSIV에 따른 성능 차이가 큰가요?

​		a : 대규모 서비스에서 사용해보지 않아서 정확히는 모르겠지만, 킨 채로 사용하다가 너무 느려졌을 때 끄고 리팩토링 하는걸 추천함



️Q : 테이블 변경에 대한 질문

+ `예약서 - 닥터 - 병원` 관계에서 

+ `예약서 - 닥터`

+ `예약서 - 병원 `관계로 수정

​	A : 예약서 entity에서 병원과 의사를 외래 키로 가져오는데, 이런식으로 구성을 하면 예약서에서 의사를 가져오		고, 병원을 가져오면서 조인이 많이 발생하는 방식인 것 같습니다. (예약을 하려면 병원, 의사를 골라야 하기 		때문에)

​		저희가 생각한 방식은 의사만 외래 키로 두고, 의사랑 병원이랑 N:1 관계이기 떄문에, 의사에서 병원을 가져오		는 방식으로 하려고 했습니다. 이러한 방식에 대해 어떻게 생각하시는지?

​		q : 멘토님 질문

​		병원만 두고, 병원을 가져오면 의사 목록을 가져오는 방식은 어떻게 생각하는지?

​		a : 조원 답변

​		그렇게 구성하면, 예약서에서 의사를 가져올 수가 없어서 어려워 진다.

​		a : 멘토님 답변

​		그 생각이 맞는 것 같다. 생각하신 구성대로 하는게 맞는 것 같다.(조회가 더 편할 것 같음)

​		(예약서 → 병원, 의사 외래키)



️Q : 유효성검사, 에러검사를 어느 단에서 처리하는 게 맞는 걸까요?

에러검사 ex) → 유저를 찾아오는데 유저가 없다

유효성 검사 ex) → int를 받아야 하는데 String을 받아 오는

에러검사는 서비스단에서, 유효성 검사는 컨트롤러단에서 한다고 생각하는데 어떻게 생각하시는지 ?

​	A : 멘토님도 이런 방식으로 하심. Spring Security의 동작 원리를 공부하셨었는데, Spring Security에서도 이런 		방식으로 동작을 하니까, 나쁘지 않은 방법이라고 생각함.

​		q : 타임리프에서도 서비스에서 검사하는 로직인 어드바이스 같은 방식을 할 수 있나요?

​			a : 할 수 있다.



️Q : User를 단일 테이블 전략으로 구성하는걸 추천하셨는데, 자바에서는 각각 객체가 존재하고 db에서는 한 테이블에 들어가는게 맞는 방식인가요?

​	A : 보여주신 대로 구성하면 null과 관련된 부분이 생기는데, entity <> 생성자에서 null 값을 잘 처리해야됨. 		Entity에서 nullable을 사용하면 db에서는 한 테이블로 관리하기 떄문에 오류가 발생. 자바에서 논리적으로 		해결해야 함.

+ OAuth로 회원가입 하면 null값이 들어올 수 없는 부분이 null로 만들어지는데, 회원가입 후 추가정보를 기입	하는 식으로 구현해야 할 듯.




## WBS 변동사항

---
   + 템플릿 적용 일정 추가 



## 개발 결과물 공유

---
   + Github Repository URL : https://github.com/likelion-backendschool/animal-care
   + wbs: https://docs.google.com/spreadsheets/d/1tMqUIlmyl2OKtFDN1YOeA4chn9lAe1uLK3NQZCpHmTw/edit#gid=0
