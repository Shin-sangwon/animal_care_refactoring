<html layout:decorate="~{global/layout}" xmlns:layout="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org">
<div layout:fragment="content" class="container my-5">
    <body>
        <div class="container">
            <ul th:each="room : ${roomList}">
                <li><a th:href="@{|/usr/chat/room/${room.roomId}|}" th:text="${room.roomName}"></a></li>
            </ul>
        </div>

        <form th:action="@{/usr/chat/room}" method="post">
            <input type="text" name="roomName" class="form-control" required="required">
            <button type="submit" class="btn btn-primary my-2">채팅방 생성</button>
        </form>
    </body>
</div>
<script th:inline="javascript">
    $(document).ready(function(){
        $(".btn-create").on("click", function (e){
            e.preventDefault();
            $("form").submit();
        });

        var roomName = [[${roomName}]];
        if(roomName != null)
            alert(roomName + "방이 개설되었습니다.");
    });
</script>
</html>
